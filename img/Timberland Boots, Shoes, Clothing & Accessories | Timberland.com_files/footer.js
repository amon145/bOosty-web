define(["jquery","cms.signupform","foundation.dropdown"],function(a,b,c){!function(a,b,c,d){var e="footer",f=function(b,c){this.element=a(b),this.options=c,this.metadata=a(this.element).data("footer-options")};f.prototype={defaults:{footerListSelector:"> ul"},init:function(){console.log("Initializing footer component."),this.config=a.extend({},this.defaults,this.options,this.metadata);var d=this;return a(this.element).find("form.signup").signupForm(),"object"==typeof main&&"function"==typeof main.screen.size&&"small"==main.screen.size()?d._build():a(b).width()<=VIEWPORTS.BREAKPOINTS.MOBILE.MAX&&d._build(),a("footer select[name=localization]").on("change",function(c){var d=a(this).val();console.log("redirecting to",d),b.location.href=d}),a("footer a.selected-region").length>0&&(a(c).foundation("dropdown"),a(d.element).on("click.fndtn.dropdown",function(){d._loadFlags()})),d},_build:function(){var b=this;a(b.element).find(".footer-content > div").find(".heading").append('<span class="global-icon-arrow-down show-for-small"></span>').end().addClass("collapsed").find(b.config.footerListSelector).hide().parent().find(".heading").on("click",function(){var c=a(this),d=c.parent(),e=d.find(b.config.footerListSelector),f=d.hasClass("collapsed");f?(d.removeClass("collapsed"),e.show()):(d.addClass("collapsed"),e.hide())}),a(".accordion div.footer-category-title").click(function(){return a(this).parents(".accordion").toggleClass("accordion-open")})},_loadFlags:function(){var b=this,c=a(b.element).find("#dropLocalize img");c.attr("src",function(b,c){return a(this).data("src")})}},f.defaults=f.prototype.defaults,a.fn.footer=function(b){return this.each(function(){var c=a(this).data(e);c||(c=new f(this,b).init(),a(this).data(e,c))})}}(jQuery,window,document)});
//# sourceMappingURL=footer.js.map