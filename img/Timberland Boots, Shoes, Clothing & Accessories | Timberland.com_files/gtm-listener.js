var gtm=gtm||{};gtm.dataLayer;gtm.initMetrics=function(){try{gtm.dataLayer=dataLayer}catch(a){}};gtm.trackEvent=function(a){gtm.dataLayer.push(a)};gtm.trackGeneric=function(a){gtm.dataLayer.push(a)};gtm.productView=function(b){gtm.dataLayer.push({event:"productDetailView",ecommerce:{detail:{actionField:{list:b.pageId},products:[{id:b.productId,sku:b.productId,name:b.productName,brand:"",category:b.categoryId?b.categoryId:"Misc",variant:b.definingAttributes?b.definingAttributes:"",price:b.price?b.price:""}]}}});var a={sku:b.productId,name:b.productName,category:b.categoryId?b.categoryId:"Misc",parentId:b.parentProductId?b.parentProductId:"",bundlePartNumber:b.bundlePartNumber?b.bundlePartNumber:"",productOrigination:b.productOrigination?b.productOrigination:"search",seoCategory:b.seoCategory?b.seoCategory:""};if(b.isSearch===true){gtm.dataLayer.push({event:"productview",productViewType:b.productViewType,searchProductClick:a})}else{gtm.dataLayer.push({event:"productview",productViewType:b.productViewType,gridProductClick:a})}};gtm.productImpression=function(e,b){var f=[];for(var d in e){var c=e[d];var a={id:c.productId,sku:c.productId,name:c.productName,brand:"",category:b.categoryId?b.categoryId:"Misc",variant:c.definingAttributes?c.definingAttributes:"",price:c.unitPrice,list:b.pageId,position:c.position};f.push(a)}gtm.dataLayer.push({event:"productImpression",ecommerce:{impressions:{products:f}}})};gtm.productClick=function(a){gtm.dataLayer.push({event:"productClick",ecommerce:{click:{actionField:{list:a.pageId},products:[{id:a.productId,name:a.productName,brand:"",category:a.categoryId?a.categoryId:"Misc",variant:a.definingAttributes?a.definingAttributes:"",price:a.unitPrice}]}}})};gtm.addedItem=function(b){gtm.dataLayer.push({event:"addToCart",ecommerce:{currencyCode:b.currency?b.currency:null,add:{products:[{name:b.productName,id:b.productId,price:b.unitPrice,brand:"",category:b.categoryId?b.categoryId:"Misc",variant:b.definingAttributes?b.definingAttributes:"",quantity:b.quantity?b.quantity:1}]}}});var a={sku:b.productId,name:b.productName,category:b.masterCategoryId?b.masterCategoryId:"Misc",price:b.unitPrice,vn:b.childPartNumber?b.childPartNumber:"",parentId:b.parentProductId?b.parentProductId:"",childId:b.childProductId?b.childProductId:"",bundlePartNumber:b.bundlePartNumber?b.bundlePartNumber:"",productOrigination:b.productOrigination?b.productOrigination:"search",seoCategory:b.seoCategory?b.seoCategory:""};if(b.isQuickView===true){if(b.isSearch===true){gtm.dataLayer.push({event:"addtocartmethod",atcMethod:"searchquickview",searchProductATC:a})}else{gtm.dataLayer.push({event:"addtocartmethod",atcMethod:"gridquickview",gridProductATC:a})}}else{gtm.dataLayer.push({event:"addtocartmethod",atcMethod:"fullpdp",atcProduct:a})}};gtm.removedItem=function(a){gtm.dataLayer.push({event:"removeFromCart",ecommerce:{currencyCode:a.currency?a.currency:null,remove:{products:[{name:a.productName,id:a.productId,price:a.unitPrice,brand:"",category:a.categoryId?a.categoryId:"Misc",variant:a.definingAttributes?a.definingAttributes:"",quantity:a.quantity}]}}})};gtm.checkoutStep=function(e,b){var f=[];for(var d in e){var c=e[d];var a={id:c.productId,name:c.productName,brand:"",variant:c.definingAttributes?c.definingAttributes:"",price:c.unitPrice,quantity:c.quantity};f.push(a)}gtm.dataLayer.push({event:"checkoutStep",ecommerce:{checkout:{actionField:{step:b.checkoutStep,option:""},products:f}}})};gtm.checkoutOption=function(a){gtm.dataLayer.push({event:"checkoutOption",ecommerce:{checkout_option:{actionField:{step:a.checkoutStep,option:a.event}}}})};gtm.order=function(e,b){var f=[];for(var d in e){var c=e[d];var a={name:c.productName,id:c.productId,price:c.unitPrice,brand:"",variant:c.definingAttributes?c.definingAttributes:"",quantity:c.quantity,coupon:""};f.push(a)}gtm.dataLayer.push({event:"checkoutCompletion",ecommerce:{purchase:{actionField:{id:b.orderId,affiliation:"Online Store",revenue:b.orderDiscountAdjustmentProductTotal,tax:b.orderTax,shipping:(Number(b.orderShipping)+Number(b.orderAdjustmentShipping)),coupon:b.promoCode?b.promoCode:"no promo"},products:f}}})};zm.listeners.push({initView:gtm.initMetrics,trackEvent:gtm.trackEvent,trackGeneric:gtm.trackGeneric,productView:gtm.productView,productImpression:gtm.productImpression,productClick:gtm.productClick,addedItem:gtm.addedItem,removedItem:gtm.removedItem,checkoutStep:gtm.checkoutStep,checkoutEvent:gtm.checkoutOption,orderView:gtm.order});